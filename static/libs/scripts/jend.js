// ==================================================
// ==== JEND v2.0.0.1 ====
// 基于jQuery v1.3.2，在旧版JEND基础上扩展，包括以下方法集合：
// - JS原型方法扩展： String/Number/Array/Date
// - jQuery方法扩展: $.browser/$.fn
// - JEND旧版保留方法: flash/DOM/DSS/cookie
// - JEND方法库： core/json/base/page/login
// ==================================================
!function(a){a&&a.extend(String.prototype,{_toBoolean:function(){return"false"===this.toString()||""===this.toString()||"0"===this.toString()?!1:!0},_toNumber:function(){return isNaN(this)?this.toString():Number(this)},_toRealValue:function(){return"true"===this.toString()||"false"===this.toString()?this._toBoolean():this._toNumber()},trim:function(){return this.replace(/(^\s*)|(\s*$)/g,"")},ltrim:function(){return this.replace(/(^\s*)/g,"")},rtrim:function(){return this.replace(/(\s*$)/g,"")},trimAll:function(){return this.replace(/\s/g,"")},trimNoteChar:function(){return this.replace(/^[^\{]*\{\s*\/\*!?|\*\/[;|\s]*\}$/g,"").trim()},left:function(a){return this.substring(0,a)},right:function(a){return this.length<=a?this.toString():this.substring(this.length-a,this.length)},reverse:function(){return this.split("").reverse().join("")},startWith:function(a,b){return!(b?this.toLowerCase().indexOf(a.toLowerCase()):this.indexOf(a))},endWith:function(a,b){return b?new RegExp(a.toLowerCase()+"$").test(this.toLowerCase().trim()):new RegExp(a+"$").test(this.trim())},sliceAfter:function(a){return this.indexOf(a)>=0?this.substring(this.indexOf(a)+a.length,this.length):""},sliceBefore:function(a){return this.indexOf(a)>=0?this.substring(0,this.indexOf(a)):""},getByteLength:function(){return this.replace(/[^\x00-\xff]/gi,"xx").length},subByte:function(a,b){if(0>a||this.getByteLength()<=a)return this.toString();var c=this;return c=c.substr(0,a).replace(/([^\x00-\xff])/g,"$1 ").substr(0,a).replace(/[^\x00-\xff]$/,"").replace(/([^\x00-\xff]) /g,"$1"),c+(b||"")},encodeURI:function(a){var b=a||"utf",c="uni"==b?escape:encodeURIComponent;return c(this)},decodeURI:function(a){var b=a||"utf",c="uni"==b?unescape:decodeURIComponent;try{for(var d=this.toString(),e=c(d);d!=e;)d=e,e=c(d);return d}catch(f){return this.toString()}},textToHtml:function(){return this.replace(/</gi,"&lt;").replace(/>/gi,"&gt;").replace(/\r\n/gi,"<br>").replace(/\n/gi,"<br>")},htmlToText:function(){return this.replace(/<br>/gi,"\r\n")},htmlEncode:function(){var a=this,b={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;"};for(var c in b)a=a.replace(new RegExp(c,"g"),b[c]);return a},htmlDecode:function(){var a=this,b={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"'};for(var c in b)a=a.replace(new RegExp(c,"g"),b[c]);return a},stripHtml:function(){return this.replace(/(<\/?[^>\/]*)\/?>/gi,"")},stripScript:function(){return this.replace(/<script(.|\n)*\/script>\s*/gi,"").replace(/on[a-z]*?\s*?=".*?"/gi,"")},replaceAll:function(a,b){return this.replace(new RegExp(a,"gm"),b)},escapeReg:function(){return this.replace(new RegExp("([.*+?^=!:${}()|[\\]/\\\\])","g"),"\\$1")},addQueryValue:function(b,c){var d=this.getPathName(),e=this.getQueryJson();return e[b]||(e[b]=c),d+"?"+a.param(e)},getQueryValue:function(a){var b=new RegExp("(^|&|\\?|#)"+a.escapeReg()+"=([^&]*)(&|$)",""),c=this.match(b);return c?c[2]:""},getQueryJson:function(){if(this.indexOf("?")<0)return{};for(var a,b,c,d,e=this.substr(this.indexOf("?")+1),f=e.split("&"),g=f.length,h={},i=0;g>i;i++)d=f[i].split("="),a=d[0],b=d[1],c=h[a],"undefined"==typeof c?h[a]=b:"[object Array]"==Object.prototype.toString.call(c)?c.push(b):h[a]=[c,b];return h},getDomain:function(){return this.startWith("http://")||this.startWith("https://")?this.split("/")[2]:""},getPathName:function(){var a=this.toString();return a.indexOf("?")>0&&(a=a.sliceBefore("?")),a.indexOf("#")>0&&(a=a.sliceBefore("#")),a},getFilePath:function(){return this.substring(0,this.lastIndexOf("/")+1)},getFileName:function(){return this.substring(this.lastIndexOf("/")+1)},getFileExt:function(){return this.substring(this.lastIndexOf(".")+1)},parseDate:function(){return(new Date).parse(this.toString())},parseJSON:function(){return new Function("return "+this.toString())()},parseAttrJSON:function(){for(var a={},b=this.toString().split(";"),c=0;c<b.length;c++)if(!(""===b[c].trim()||b[c].indexOf(":")<1)){var d=b[c].sliceBefore(":").trim(),e=b[c].sliceAfter(":").trim();""!==d&&""!==e&&(a[d.toCamelCase()]=e._toRealValue())}return a},_pad:function(a,b,c){for(var d=[c?"":this,c?this:""];d[c].length<(a?a:0)&&(d[c]=d[1]+(b||" ")+d[0]););return d[c]},padLeft:function(a,b){return this.length>=a?this.toString():this._pad(a,b,0)},padRight:function(a,b){return this.length>=a?this.toString():this._pad(a,b,1)},toHalfWidth:function(){return this.replace(/[\uFF01-\uFF5E]/g,function(a){return String.fromCharCode(a.charCodeAt(0)-65248)}).replace(/\u3000/g," ")},toCamelCase:function(){return this.indexOf("-")<0&&this.indexOf("_")<0?this.toString():this.replace(/[-_][^-_]/g,function(a){return a.charAt(1).toUpperCase()})},format:function(){var b=this;if(arguments.length>0){var c=1==arguments.length&&a.isArray(arguments[0])?arguments[0]:a.makeArray(arguments);a.each(c,function(a,c){b=b.replace(new RegExp("\\{"+a+"\\}","g"),c)})}return b},substitute:function(a){return a&&"object"==typeof a?this.replace(/\{([^{}]+)\}/g,function(b,c){var d=a[c];return void 0!==d?""+d:""}):this.toString()},toEAN13:function(a){for(var b=12-a.length,c=a+(this.length>=b?this.left(b):this.padLeft(b,"0")),d=0,e=0,f=0,g=c.reverse(),h=0;h<g.length;h++)h%2?e+=parseInt(g.charAt(h),10):d+=parseInt(g.charAt(h),10);return(3*d+e)%10&&(f=10-(3*d+e)%10),c+f},formatToDSS:function(){var a=this.match(/^http(?:s)?:\/\/([^:\/]*)(:\d+)?([^\?]*)/),b="";if(a[1].match(/^[\d\.]*$/))b="/ip/"+a[1];else for(var c=a[1].split("."),d=c.length;d>0;d--)b+="/"+c[d-1];return a[2]&&(b+="/"+a[2]),b+a[3]},formatToDSSID:function(){return this.formatToDSS().replace(/\//g,"_")},toMapObject:function(a){a=a||"/";var b=this.split(a),c={},d=function(a,b,e){e<b.length&&(a[b[e]]||(a[b[e]]={}),c=a[b[e]],d(a[b[e]],b,e+1))};return d(window,b,1),c}})}(jQuery),function(a){a&&a.extend(String.prototype,{isIP:function(){var a=/^(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9])\.(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9]|0)\.(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9]|0)\.(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[0-9])$/;return a.test(this.trim())},isUrl:function(){return new RegExp(/^(ftp|https?):\/\/([^\s\.]+\.[^\s]{2,}|localhost)$/i).test(this.trim())},isURL:function(){return this.isUrl()},isDate:function(){var a=this.match(/^(\d{1,4})(-|\/)(\d{1,2})\2(\d{1,2})$/);if(null===a)return!1;var b=new Date(a[1],a[3]-1,a[4]);return b.getFullYear()==a[1]&&b.getMonth()+1==a[3]&&b.getDate()==a[4]},isTime:function(){var a=this.match(/^(\d{1,2})(:)?(\d{1,2})\2(\d{1,2})$/);return null===a?!1:a[1]>24||a[3]>60||a[4]>60?!1:!0},isDateTime:function(){var a=this.match(/^(\d{1,4})(-|\/)(\d{1,2})\2(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})$/);if(null===a)return!1;var b=new Date(a[1],a[3]-1,a[4],a[5],a[6],a[7]);return b.getFullYear()==a[1]&&b.getMonth()+1==a[3]&&b.getDate()==a[4]&&b.getHours()==a[5]&&b.getMinutes()==a[6]&&b.getSeconds()==a[7]},isInteger:function(){return new RegExp(/^(-|\+)?\d+$/).test(this.trim())},isPositiveInteger:function(){return new RegExp(/^\d+$/).test(this.trim())&&parseInt(this,10)>0},isNegativeInteger:function(){return new RegExp(/^-\d+$/).test(this.trim())},isNumber:function(){return!isNaN(this)},isRealName:function(){return new RegExp(/^[A-Za-z \u4E00-\u9FA5]+$/).test(this)},isLogName:function(){return this.isEmail()||this.isMobile()},isEmail:function(){return new RegExp(/^([_a-zA-Z\d\-\.])+@([a-zA-Z0-9_-])+(\.[a-zA-Z0-9_-])+/).test(this.trim())},isMobile:function(){return new RegExp(/^(13|14|15|17|18)\d{9}$/).test(this.trim())},isPhone:function(){return new RegExp(/^(([0\+]\d{2,3}-)?(0\d{2,3})-)?(\d{7,8})(-(\d{3,}))?$/).test(this.trim())},isAreacode:function(){return new RegExp(/^0\d{2,3}$/).test(this.trim())},isPostcode:function(){return new RegExp(/^\d{6}$/).test(this.trim())},isLetters:function(){return new RegExp(/^[A-Za-z]+$/).test(this.trim())},isDigits:function(){return new RegExp(/^[1-9][0-9]+$/).test(this.trim())},isAlphanumeric:function(){return new RegExp(/^[a-zA-Z0-9]+$/).test(this.trim())},isValidString:function(){return new RegExp(/^[a-zA-Z0-9\s.\-_]+$/).test(this.trim())},isLowerCase:function(){return new RegExp(/^[a-z]+$/).test(this.trim())},isUpperCase:function(){return new RegExp(/^[A-Z]+$/).test(this.trim())},isChinese:function(){return new RegExp(/^[\u4e00-\u9fa5]+$/).test(this.trim())},isIDCard:function(){var a=new RegExp(/^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$/),b=new RegExp(/^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}([0-9]|X|x)$/);return a.test(this.trim())||b.test(this.trim())},isCardNo:function(a){var b={UleCard:{lengths:"16",prefixes:"",checkdigit:!0},Visa:{lengths:"13,16",prefixes:"4",checkdigit:!0},MasterCard:{lengths:"16",prefixes:"51,52,53,54,55",checkdigit:!0},BankCard:{lengths:"16,17,19",prefixes:"3,4,5,6,9",checkdigit:!1}};if(!b[a])return!1;var c=this.replace(/[\s-]/g,""),d=/^[0-9]{13,19}$/;if(0!==c.length&&d.exec(c)){c=c.replace(/\D/g,"");var e=!0,f=!1,g=!1;if(b[a].checkdigit){var h,i=0,j=1;for(n=c.length-1;n>=0;n--)h=Number(c.charAt(n))*j,h>9&&(i+=1,h-=10),i+=h,j=1==j?2:1;i%10!==0&&(e=!1)}if(""===b[a].prefixes)f=!0;else{var k=b[a].prefixes.split(",");for(n=0;n<k.length;n++){var l=new RegExp("^"+k[n]);l.test(c)&&(f=!0)}}for(var m=b[a].lengths.split(","),n=0;n<m.length;n++)c.length==m[n]&&(g=!0);return e&&f&&g?!0:!1}return!1},isUleCard:function(){return this.isCardNo("UleCard")},isVisa:function(){return this.isCardNo("Visa")},isMasterCard:function(){return this.isCardNo("MasterCard")},isValidEAN:function(){for(var a=this.trim(),b=0,c=0,d=parseInt(a.right(1),10),e=a.left(a.length-1).reverse(),f=0;f<e.length;f++)f%2?c+=parseInt(e.charAt(f),10):b+=parseInt(e.charAt(f),10);return(3*b+c+d)%10?!1:!0},isEAN8:function(){var a=this.trim();return new RegExp(/^\d{8}$/).test(a)&&a.isValidEAN()},isEAN12:function(){var a=this.trim();return new RegExp(/^\d{12}$/).test(a)&&a.isValidEAN()},isEAN13:function(){var a=this.trim();return new RegExp(/^\d{13}$/).test(a)&&a.isValidEAN()},isISBN10:function(){var a=this.trim();if(!new RegExp(/^\d{9}([0-9]|X|x)$/).test(a))return!1;for(var b=0,c=a.right(1),d=a.reverse(),e=1;e<d.length;e++)b+=parseInt(d.charAt(e),10)*(e+1);return("X"==c||"x"==c)&&(c=10),(b+parseInt(c,10))%11?!1:!0},isISBN:function(){return this.isEAN13()},isEANCode:function(){return this.isEAN8()||this.isEAN12()||this.isEAN13()||this.isISBN10()}})}(jQuery),function(a){a&&a.extend(Number.prototype,{comma:function(a){(!a||1>a)&&(a=3);var b=(""+this).split(".");return b[0]=b[0].replace(new RegExp("(\\d)(?=(\\d{"+a+"})+$)","ig"),"$1,"),b.join(".")},randomInt:function(a,b){return Math.floor(Math.random()*(b-a+1)+a)},padLeft:function(a,b){return(""+this).padLeft(a,b)},padRight:function(a,b){return(""+this).padRight(a,b)}})}(jQuery),function(a){a&&a.extend(Array.prototype,{indexOf:function(a,b){for(var c=0;c<this.length;c++)if(a==(b?this[c][b]:this[c]))return c;return-1},remove:function(a,b){this.removeAt(this.indexOf(a,b))},removeAt:function(a){if(a>=0&&a<this.length){for(var b=a;b<this.length-1;b++)this[b]=this[b+1];this.length--}},removeEmpty:function(){for(var a=[],b=0;b<this.length;b++)""!==this[b].trim()&&a.push(this[b].trim());return a},add:function(a){return this.indexOf(a)>-1?!1:(this.push(a),!0)},swap:function(a,b){if(a<this.length&&b<this.length&&a!=b){var c=this[a];this[a]=this[b],this[b]=c}},filter:function(a,b){for(var c=[],d=0;d<this.length;d++)"undefined"==typeof b?c.push(this[d][a]):this[d][a]==b&&c.push(this[d]);return c},unique:function(){var a,b,c=[],d={},e=this.length;if(2>e)return this;for(a=0;e>a;a++)b=this[a],1!==d[b]&&(c.push(b),d[b]=1);return c},sortby:function(a,b,c){for(var d=function(a,b,c,d){"int"==c?(a=parseInt(a,10),b=parseInt(b,10)):"float"==c&&(a=parseFloat(a),b=parseFloat(b));var e=0;return b>a&&(e=1),a>b&&(e=-1),"desc"==d&&(e=0-e),e},e=[],f=0;f<this.length;f++)e[e.length]=this[f];for(f=0;f<e.length;f++){for(var g=f,h=""!==a?e[f][a]:e[f],i=f+1;i<e.length;i++){var j=""!==a?e[i][a]:e[i],k=d(h,j,b,c);0>k&&(g=i,h=j)}if(g>f){var l=e[g];e[g]=e[f],e[f]=l}}return e}})}(jQuery),function(a){a&&a.extend(Date.prototype,{parse:function(a){return"string"==typeof a?a.indexOf("GMT")>0||a.indexOf("gmt")>0||!isNaN(Date.parse(a))?this._parseGMT(a):a.indexOf("UTC")>0||a.indexOf("utc")>0||a.indexOf(",")>0?this._parseUTC(a):this._parseCommon(a):new Date},_parseGMT:function(a){return this.setTime(Date.parse(a)),this},_parseUTC:function(a){return new Date(a)},_parseCommon:function(a){var b=a.split(/ |T/),c=b.length>1?b[1].split(/[^\d]/):[0,0,0],d=b[0].split(/[^\d]/);return new Date(d[0]-0,d[1]-1,d[2]-0,(c[0]||0)-0,(c[1]||0)-0,(c[2]||0)-0)},clone:function(){return(new Date).setTime(this.getTime())},dateAdd:function(a,b){var c=this.getFullYear(),d=this.getMonth(),e=this.getDate(),f=this.getHours(),g=this.getMinutes(),h=this.getSeconds();switch(a){case"y":this.setFullYear(c+b);break;case"m":this.setMonth(d+b);break;case"d":this.setDate(e+b);break;case"h":this.setHours(f+b);break;case"n":this.setMinutes(g+b);break;case"s":this.setSeconds(h+b)}return this},dateDiff:function(a,b){var c=b-this;switch(a){case"w":return c/1e3/3600/24/7;case"d":return c/1e3/3600/24;case"h":return c/1e3/3600;case"n":return c/1e3/60;case"s":return c/1e3}},format:function(a){if(isNaN(this))return"";var b={"m+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"n+":this.getMinutes(),"s+":this.getSeconds(),S:this.getMilliseconds(),W:["日","一","二","三","四","五","六"][this.getDay()],"q+":Math.floor((this.getMonth()+3)/3)};a.indexOf("am/pm")>=0&&(a=a.replace("am/pm",b["h+"]>=12?"下午":"上午"),b["h+"]>=12&&(b["h+"]-=12)),/(y+)/.test(a)&&(a=a.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var c in b)new RegExp("("+c+")").test(a)&&(a=a.replace(RegExp.$1,1==RegExp.$1.length?b[c]:("00"+b[c]).substr((""+b[c]).length)));return a}})}(jQuery),function(a){if(a){var b=navigator.userAgent.toLowerCase();a.browser||(a.browser={version:(b.match(/.+(?:rv|it|ra|ie)[\/: ]([\d.]+)/)||[0,"0"])[1],safari:/webkit/.test(b),opera:/opera/.test(b),mozilla:/mozilla/.test(b)&&!/(compatible|webkit)/.test(b)}),a.browser.msie=(/msie/.test(b)||/trident/.test(b))&&!/opera/.test(b),a.extend(a.browser,{isIE6:a.browser.msie&&6==a.browser.version?!0:!1,IEMode:function(){return a.browser.msie?document.documentMode?document.documentMode:document.compatMode&&"CSS1Compat"==document.compatMode?7:5:0}(),isIPad:/iPad/i.test(navigator.userAgent),language:function(){return(navigator.language||navigator.userLanguage||"").toLowerCase()},detectZoom:function(){var a=0,b=window.screen,c=navigator.userAgent.toLowerCase();return void 0!==window.devicePixelRatio?a=window.devicePixelRatio:~c.indexOf("msie")?b.deviceXDPI&&b.logicalXDPI&&(a=b.deviceXDPI/b.logicalXDPI):void 0!==window.outerWidth&&void 0!==window.innerWidth&&(a=window.outerWidth/window.innerWidth),a}}),a.fn.tagName=function(){if(0===this.length)return"";if(this.length>1){var a=[];return this.each(function(b,c){a.push(c.tagName.toLowerCase())}),a}return this[0].tagName.toLowerCase()},a.fn.optionText=function(){if(0===this.length)return"";var a=this[0];return-1===a.selectedIndex?"":a.options[a.selectedIndex].text},a.fn.attrJSON=function(a){return(this.attr(a||"rel")||"").parseAttrJSON()},a.fn.bindJqueryUI=function(a,b){if(0===this.length)return this;var c=this;return JEND.load("jqueryui",function(){c[a](b)}),this},a.fn.bindJendUI=function(a,b,c){return 0!==this.length&&JEND?(JEND.ui&&JEND.ui[a]?(JEND.ui[a](this,b),this.data(a+"-binded",!0),JEND.debug("bindJendUI."+a,b)):this.bindJendUIExtend(c||"ui",a,b),this):this},a.fn.bindJendUIExtend=function(a,b,c){if(0===this.length||!JEND)return this;var d=this;return JEND.load(a,function(){setTimeout(function(){JEND.ui[b]&&(JEND.ui[b](d,c),d.data(b+"-binded",!0),JEND.debug("bindJendUI."+b,c))},200)}),this}}}(jQuery),function($){$&&(window.JEND||(window.JEND={}),JEND.namespace=function(a,b){var c=a.split(b||"."),d={},e=function(a,b,c){c<b.length&&(a[b[c]]||(a[b[c]]={}),d=a[b[c]],e(a[b[c]],b,c+1))};return e(window,c,0),d},JEND.define=function(a,b,c){var d=this,e=a;if(a.indexOf(".")>0){var f=a.split(".");e=f.pop();var g=f.join(".");d=JEND.namespace(g)}d[e]||(d[e]=b,c&&c(),JEND.debug("JEND.define",a,"info"))},JEND.ready=function(a){JEND.ready.addEvent(a)},$.extend(JEND.ready,{events:[],addEvent:function(a){return this.events?void this.events.push(a):void a()},exeEvents:function(){if(this.events){for(var a=0;a<this.events.length;a++)this.events[a]();this.events=null}}}),JEND.debug=function(a,b,c){this.debugMode&&(c=c||"log",window.console&&console[c]?console[c]((new Date).format("hh:nn:ss.S")+", "+a," = ",b):JEND.debug.log((new Date).format("hh:nn:ss.S")+", "+a+" = "+b))},$.extend(JEND.debug,{log:function(){this.createDOM();for(var a=[],b=$("#_jend_debuglog textarea").val(),c=0;c<arguments.length;c++)a.push(arguments[c]);b+=(""===b?"":"\n")+a.join(" "),$("#_jend_debuglog textarea").val(b)},clear:function(){$("#_jend_debuglog textarea").val("")},createDOM:function(){if(0===$("#_jend_debuglog").length){var a='<div id="_jend_debuglog" style="position:fixed;bottom:0;left:0;right:0;_position:absolute;_bottom:auto;_top:0;padding:5px 0 5px 5px;border:solid 5px #666;background:#eee;z-index:1000;"><textarea style="font-size:12px;line-height:16px;display:block;background:#eee;border:none;width:100%;height:80px;"></textarea><a style="text-decoration:none;display:block;height:80px;width:20px;text-align:center;line-height:16px;padding:5px 0;_padding:6px 0;background:#666;color:#fff;position:absolute;right:-5px;bottom:0;" href="#">关闭调试器</a></div>';$("body").append(a),$("#_jend_debuglog a").click(function(){return $(this).parent().remove(),!1}),$("#_jend_debuglog textarea").focus(function(){this.select()})}}}),JEND.load=function(a,b,c){if($.isArray(a)){var d=a.join(","),e=a.length,f=JEND.loader.checkFileLoader(d);if(f==e+1)"function"==typeof b&&b();else if(f>0)JEND.loader.addExecute(d,b);else if(0===f){JEND.loader.addExecute(d,b),JEND.debug("开始加载JS",d),JEND.loader.fileLoader[d]=1;for(var g=0;e>g;g++)JEND.load(a[g],function(){JEND.loader.fileLoader[d]++,JEND.loader.fileLoader[d]==e+1&&(JEND.debug("完成加载JS",d),JEND.loader.execute(d))})}}else JEND.loader.serviceLibs[a]&&JEND.loader.serviceLibs[a].requires?JEND.load(JEND.loader.serviceLibs[a].requires,function(){JEND.load.run(a,b,c)}):JEND.load.run(a,b,c)},$.extend(JEND.load,{setPath:function(a){JEND.loader.serviceBase=a},add:function(a,b){JEND.loader.serviceLibs[a]||(b.js&&!b.js.startWith("http")&&b.js.indexOf("?v=")<0&&this.version&&(b.js=b.js.addQueryValue("v",this.version)),b.css&&!b.css.startWith("http")&&b.css.indexOf("?v=")<0&&this.version&&(b.css=b.css.addQueryValue("v",this.version)),JEND.loader.serviceLibs[a]=b)},run:function(service,act,params){var action="string"==typeof act?function(){try{var o=eval("JEND."+service);o&&o[act]&&o[act](params)}catch(e){}}:act||function(){};if(JEND.loader.checkService(service))return void action();var url=JEND.loader.getServiceUrl(service),status=JEND.loader.checkFileLoader(url);2===status?action():1===status?JEND.loader.addExecute(url,action):0===status?$('script[src="'+url+'"]').length>0?(JEND.loader.fileLoader[url]=2,action()):(JEND.loader.addExecute(url,action),JEND.loader.addScript(service)):JEND.debug("加载异常",service)}}),JEND.define("JEND.loader",{fileLoader:{},executeLoader:{},serviceBase:"",serviceLibs:{},checkFullUrl:function(a){return 0===a.indexOf("/")||0===a.indexOf("http://")||0===a.indexOf("https://")},checkService:function(service){if(this.checkFullUrl(service))return!1;try{if(service.indexOf(".")>0){var o=eval("JEND."+service);return"undefined"!=typeof o}return!1}catch(e){return!1}},checkFileLoader:function(a){return""!==a?this.fileLoader[a]||0:-1},getServiceUrl:function(a){var b="";return this.checkFullUrl(a)?b=a:this.serviceLibs[a]&&(b=this.checkFullUrl(this.serviceLibs[a].js)?this.serviceLibs[a].js:this.serviceBase+this.serviceLibs[a].js),b},execute:function(a){if(this.executeLoader[a]){for(var b=0;b<this.executeLoader[a].length;b++)this.executeLoader[a][b]();this.executeLoader[a]=null}},addExecute:function(a,b){"function"==typeof b&&(this.executeLoader[a]||(this.executeLoader[a]=[]),this.executeLoader[a].push(b))},addScript:function(a){var b,c=this;this.checkFullUrl(a)?(b=a,this.getScript(b,function(){JEND.debug("完成加载JS",b),c.fileLoader[b]=2,JEND.loader.execute(b)})):this.serviceLibs[a]&&(this.serviceLibs[a].css&&(b=this.checkFullUrl(this.serviceLibs[a].css)?this.serviceLibs[a].css:this.serviceBase+this.serviceLibs[a].css,this.fileLoader[b]||(JEND.debug("开始加载CSS",b),this.fileLoader[b]=1,$("head").append('<link rel="stylesheet" type="text/css"  href="'+b+'" />'))),this.serviceLibs[a].js&&(b=this.checkFullUrl(this.serviceLibs[a].js)?this.serviceLibs[a].js:this.serviceBase+this.serviceLibs[a].js,this.getScript(b,function(){JEND.debug("完成加载JS",b),c.fileLoader[b]=2,JEND.loader.execute(b)})))},getScript:function(a,b,c){JEND.debug("开始加载JS",a),this.fileLoader[a]=1,this.getRemoteScript(a,b,c)},getRemoteScript:function(a,b,c,d){$.isFunction(b)&&(d=c,c=b,b={});var e=document.getElementsByTagName("head")[0],f=document.createElement("script");f.type="text/javascript",f.charset="utf-8",f.src=a;for(var g in b)"keepScriptTag"==g?f.keepScriptTag=!0:f.setAttribute(g,b[g]);f.onload=f.onreadystatechange=function(){this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(c&&c(),f.onload=f.onreadystatechange=null,f.keepScriptTag||e.removeChild(f))},f.onerror=function(){d&&d()},e.appendChild(f)}}),JEND.define("JEND.timestat",{libs:{},loadTime:"number"==typeof _jend_page_loadtime?_jend_page_loadtime:(new Date).getTime(),add:function(a){this.libs[a]=(new Date).getTime()-this.loadTime},get:function(a){return this.libs[a]||0}}),JEND.define("JEND.lang",{language:"zh-cn",text:{},get:function(a,b){return b?this.text[a]?this.text[a][b]||"":"":this.text[a]||null},set:function(a,b,c){this.text[a]||(this.text[a]={}),c?this.text[a][b]=c:this.text[a]=b},extend:function(a,b){this.text[a]||(this.text[a]={}),$.extend(this.text[a],b)}}))}(jQuery),function(a){a&&window.JEND&&(JEND.namespace("JEND.cookie"),a.extend(JEND.cookie,{getRootDomain:function(){var a=document.domain;if(a.indexOf(".")>0&&!a.isIP()){var b=a.split("."),c=b.length,d=b[c-1],e=b[c-2],f=b[c-3];a="com"==e||"net"==e?f+"."+e+"."+d:e+"."+d}return a},load:function(){for(var a=document.cookie.split("; "),b={},c=null,d=0;d<a.length;d++)c=a[d].split("="),b[c[0]]=c[1];return b},get:function(a){var b=this.load()[a];if(!b)return!1;try{return decodeURI(b)}catch(c){return unescape(b)}},set:function(a,b,c){c="object"==typeof c?c:{minute:c};var d=arguments.length,e=d>3?arguments[3]:c.path||"/",f=d>4?arguments[4]:c.domain||(c.root?this.getRootDomain():""),g=0;c.day?g=864e5*c.day:c.hour?g=36e5*c.hour:c.minute?g=6e4*c.minute:c.second&&(g=1e3*c.second);var h=new Date,i="";g>0&&(h.setTime(h.getTime()+g),i="; expires="+h.toGMTString()),f=f?"; domain="+f:"",document.cookie=a+"="+escape(b||"")+"; path="+e+f+i},del:function(a,b){b=b||{};var c="; path="+(b.path||"/"),d=b.domain?"; domain="+b.domain:"";b.root&&(d="; domain="+this.getRootDomain()),document.cookie=a+"="+c+d+"; expires=Thu,01-Jan-70 00:00:01 GMT"}}))}(jQuery),function(a){a&&window.JEND&&(JEND.namespace("JEND.json"),a.extend(JEND.json,{parse:function(a){return new Function("return "+a)()},stringify:function(a){var b={"\b":"\\b"," ":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},c={array:function(a){var b,d,e,f,g=["["],h=a.length;for(e=0;h>e;e+=1)f=a[e],d=c[typeof f],d&&(f=d(f),"string"==typeof f&&(b&&(g[g.length]=","),g[g.length]=f,b=!0));return g[g.length]="]",g.join("")},"boolean":function(a){return String(a)},"null":function(){return"null"},number:function(a){return isFinite(a)?String(a):"null"},object:function(a){if(a){if(a instanceof Array)return c.array(a);var b,d,e,f,g=["{"];for(e in a)f=a[e],d=c[typeof f],d&&(f=d(f),"string"==typeof f&&(b&&(g[g.length]=","),g.push(c.string(e),":",f),b=!0));return g[g.length]="}",g.join("")}return"null"},string:function(a){return/["\\\x00-\x1f]/.test(a)&&(a=a.replace(/([\x00-\x1f\\"])/g,function(a,c){var d=b[c];return d?d:(d=c.charCodeAt(),"\\u00"+Math.floor(d/16).toString(16)+(d%16).toString(16))})),'"'+a+'"'}};return c.object(a)},toAttr:function(a){if("object"==typeof a){var b=[];for(var c in a)b.push(c+":"+a[c]);return b.join(";")}return a}}))}(jQuery),function(a){a&&window.JEND&&(JEND.namespace("JEND.base"),JEND.base.StringBuilder=function(){this._strings=[]},a.extend(JEND.base.StringBuilder.prototype,{append:function(){for(var a=arguments.length,b=0;a>b;b++)this._strings.push(arguments[b])},appendFormat:function(a){for(var b=/{[0-9]+}/g,c=a.match(b),d=c.length,e=0;d>e;e++)a=a.replace(c[e],arguments[parseInt(c[e].replace(/[{}]/g,""),10)+1]);this._strings.push(a)},toString:function(){return this._strings.join("")}}),JEND.base.ImageLoader=function(b){this.options=a.extend({src:"",min:.5,max:30,timer:.1},b||{});var c=this;this.init=function(){this.loaderId=(new Date).getTime(),this.loadStatus=0,this.element=new Image,this.element.onload=function(){c.loadStatus=1,c.options.onLoad&&c.options.onLoad(),JEND.debug("image onload",c.loaderId+": "+this.width+","+this.height)},this.element.onerror=function(){c.loadStatus=-1,c.options.onError&&c.options.onError(),JEND.debug("image onerror",c.loaderId)},this.element.src=this.options.src,this.startMonitor(),JEND.debug("image init",c.loaderId)},this.startMonitor=function(){this.theTimeout=0;var a=this;setTimeout(function(){a.checkMonitor()},1e3*this.options.min)},this.checkMonitor=function(){0===this.loadStatus&&(this.theTimeout=1e3*this.options.min,this._monitor=setInterval(function(){c.theTimeout+=50,0!==c.loadStatus?clearInterval(c._monitor):c.element.complete?(clearInterval(c._monitor),c.loadStatus=1,c.options.onLoad&&c.options.onLoad(),JEND.debug("image complete",c.loaderId+": "+c.element.width+","+c.element.height)):c.theTimeout>=1e3*c.options.max&&(clearInterval(c._monitor),c.loadStatus=-1,c.options.onError&&c.options.onError(),JEND.debug("image timeout",c.loaderId))},1e3*c.options.timer))},this.init()})}(jQuery),function($){$&&window.JEND&&(JEND.namespace("JEND.ui"),$.extend(JEND.ui,{bindElementParam:function(a,b){a.each(function(){this._param=this._param||{},$.extend(this._param,b||$(this).attrJSON())})},ModuleLoaded:function(a){a.find(".e-loadmvc").bindJendUI("LoadMVC"),a.find(".e-loadevt").bindJendUI("LoadEVT"),a.find(".e-loadjui").bindJendUI("LoadJUI")},LoadEVT:function(elm,attr){elm.data("LoadEVT-binded")||elm.each(function(){var attrValue=$(this).attr(attr||"data-onload")||"";attrValue&&eval(attrValue)})},LoadJUI:function(a){a.data("LoadJUI-binded")||a.each(function(){var a=$(this).attr("data-jui")||"",b=$(this).attr("data-jlib")||"";""!==a&&$(this).bindJendUI(a,null,b)})},LoadMVC:function(a){a.data("LoadMVC-binded")||a.each(function(){if($(this).attr("data-mvc")){var a=$(this).attrJSON("data-mvc"),b=a.name||this.id||"mvc"+(new Date).getTime();JEND.load.add(b,a),JEND.load(b)}})}}))}(jQuery),function(a){a&&window.JEND&&JEND.namespace("JEND.util")}(jQuery),function(a){a&&window.JEND&&(JEND.namespace("JEND.page"),a.extend(JEND.page,{keyHandler:{events:{},keys:{ESC:27,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT:37,TOP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46,ENTER:13,SPACE:32,TAB:9,BACKSPACE:8,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123},add:function(b,c,d,e){this.events[d]=function(b){try{var d=b.which||b.keyCode||0;a.isArray(c)&&c.indexOf(d)>=0?e(d):("ANYKEY"==c||d==c||d==JEND.page.keyHandler.keys[c])&&e(d)}catch(f){}},a(b).bind("keydown",this.events[d])},remove:function(b,c){a(b).unbind("keydown",this.events[c]),this.events[c]=null}},systemTime:{load:function(b){var c=this,d=unescape(location.href.getQueryValue("systemTime")||"");d&&d.isDateTime()?(c.timeDiff=(new Date).getTime()-d.parseDate().getTime(),b&&b()):a.getJSON("//checkout."+JEND.server.uleUrl+"/payment2/service!serviceTime.do?jsonp=?",function(a){c.timeDiff=(new Date).getTime()-a,b&&b()})},get:function(a){var b=new Date;return this.timeDiff&&(b=new Date((new Date).getTime()-this.timeDiff)),a?b.format(a):b}},setHomepage:function(){var a=document.location.href;if(a.match(/srcid=[\w]*/)?a=a.replace(/srcid=[\w]*/,"srcid=homedefault"):a+=(a.indexOf("?")>0?"&":"?")+"srcid=homedefault",document.all)document.body.style.behavior="url(#default#homepage)",document.body.setHomePage(a);else if(window.sidebar){if(window.netscape)try{netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect")}catch(b){alert("该操作被浏览器拒绝，如果想启用该功能，请在地址栏内输入 about:config,\n然后将项 signed.applets.codebase_principal_support 值设为true")}var c=Components.classes["@mozilla.org/preferences-service;1"].getService(Components.interfaces.nsIPrefBrance);c.setCharPref("browser.startup.homepage",a)}},addFavor:function(a,b){var c=a||document.location.href,d=b||document.title;c.match(/srcid=[\w]*/)?c=c.replace(/srcid=[\w]*/,"srcid=userfavorite"):c+=(c.indexOf("?")>0?"&":"?")+"srcid=userfavorite";try{window.external.AddFavorite(c,d)}catch(e){try{window.sidebar.addPanel(d,c,"")}catch(f){var g=-1!=navigator.userAgent.toLowerCase().indexOf("mac")?"Command/Cmd":"CTRL";alert("您可以尝试通过快捷键"+g+" + D 加入到收藏夹~")}}},refresh:function(a){a||(a=document.location.href,a.indexOf("#")>0&&(a=a.sliceBefore("#"))),document.location.href=a},setDomain:function(){var a=document.domain;if(!(a.indexOf(".")<0||a.isIP())){var b=a.split("."),c=b[b.length-1],d=b[b.length-2],e=b[b.length-3];document.domain="com"==d||"net"==d?e+"."+d+"."+c:d+"."+c}},msgtip:function(b,c,d){d=d||{},d.content=c,JEND.load("util-msgtip",function(){new JEND.util.msgtip(a(b),d)})},popbox:function(a){JEND.load("util.popbox","show",a)},alert:function(a,b){var c="object"==typeof a?a:{message:a,callback:b};JEND.load("util.dialog","alert",c)},showSuccess:function(a,b){var c="object"==typeof a?a:{message:a,callback:b};c.type="success",JEND.load("util.dialog","alert",c)},showError:function(a,b){var c="object"==typeof a?a:{message:a,callback:b};c.type="error",JEND.load("util.dialog","alert",c)},confirm:function(a,b,c){var d="object"==typeof a?a:{message:a,callback:b,cancel:c};JEND.load("util.dialog","confirm",d)},prompt:function(b,c){var d="object"!=typeof b||a.isArray(b)?{message:b,callback:c}:b;JEND.load("util.dialog","prompt",d)},showLoading:function(a){var b="object"==typeof a?a:{loadingText:a};JEND.load("util.dialog","showLoading",b)},hideLoading:function(a){JEND.load("util.dialog","close",a||"")},closeDialog:function(a){JEND.load("util.dialog","close",a||"")},dialog:function(a){JEND.load("util.dialog","open",a)}}),a.extend(JEND.page.popbox,{close:function(){JEND.load("util.popbox","close",null)}}),a.extend(JEND.page.dialog,{init:function(a){JEND.load("util.dialog",function(){JEND.util.dialog.init(),JEND.util.dialog.setStyle(a)})},pop:function(a){JEND.load("util.dialog","pop",a)},poptab:function(b,c,d){var e=b[0];a.extend(e,{tabs:b,width:c,height:d}),JEND.load("util.dialog","pop",e)},show:function(a){JEND.load("util.dialog","show",a)},ajax:function(a){JEND.load("util.dialog","ajax",a)},form:function(a,b,c,d){var e="frame"+(new Date).getTime(),f='<iframe id="{frameId}" name="{frameId}" src="about:blank" width="100%" height="100%" scrolling="auto" frameborder="0" marginheight="0" marginwidth="0"></iframe>',g={};return g.title=b,g.width=c,g.height=d,g.content=f.substitute({frameId:e}),g.callback=function(){a.target=e,a.submit()},JEND.page.dialog(g),!1},setContent:function(a){JEND.load("util.dialog",function(){JEND.util.dialog.setContent(a),JEND.util.dialog.setAutoHeight()})},setConfig:function(a,b){JEND.load("util.dialog",function(){JEND.util.dialog[a]=b})},close:function(a){JEND.load("util.dialog","close",a||"")}}),JEND.page.init=function(){if(JEND.ready&&JEND.ready.exeEvents(),a(document).bindJendUI("ModuleLoaded"),JEND.debug("page","开始初始化"),a.browser.isIE6)try{document.execCommand("BackgroundImageCache",!1,!0)}catch(b){}},a(function(){JEND.page.init()}))}(jQuery),function(a){a&&window.JEND&&(JEND.namespace("JEND.login"),a.extend(JEND.login,{events:[],addEvent:function(a){a&&this.events.push(a)},
exeEvents:function(){if(this.events){for(var a=0,b=this.events.length;b>a;a++)this.events[a](this.userData);this.clearEvents(),JEND.page&&JEND.page.header&&JEND.page.header.refreshUserInfo(JEND.login.userData)}},clearEvents:function(){this.events=[]},getUser:function(a,b){return b||(b=a,a=null),this.checkUserStatus()&&this.userData&&this.userData.mall_cookie.startWith(this.mallcookie)?(b(this.userData),!1):(this.addEvent(b),void(1==this.events.length&&JEND.login.pop(a,function(){JEND.login.loadUserData()})))},loadUserData:function(b){a.getJSON(document.location.protocol+"//my."+JEND.server.uleUrl+"/usr/getIndexCookies.do?jsonCallBack=?",function(a){JEND.login.userData=a,b?b(a):JEND.login.exeEvents()})},checkUserStatus:function(){return this.mallcookie=(JEND.cookie.get("mall_cookie")||"").replaceAll('"',""),!!this.mallcookie},pop:function(b,c){return c||(c=b,b=null),this.callback=function(){},a.isFunction(c)?this.callback=c:"string"==typeof c&&""!==c&&(this.callback=function(){document.location.href=c}),this.checkUserStatus()?this.callback():this.dialog(b),!1},dialog:function(b){JEND.page.setDomain();var c="//my."+JEND.server.uleUrl+"/usr/toQuickRegister.do"+(b?"?"+a.param(b):"");JEND.page.dialog.pop({title:"快速登录",url:c,width:750,height:365}),JEND.login.success=function(a){JEND.page.closeDialog(),JEND.login.callback(a),a&&(JEND.login.userData=a),JEND.page&&JEND.page.header&&JEND.page.header.refreshUserInfo(a)}},success:function(){JEND.page.closeDialog()}}))}(jQuery),function(a){a&&window.JEND&&(JEND.namespace("JEND.track"),JEND.track.scriptPath=document.location.protocol+"//i1.",JEND.track.disabled="1"==location.href.getQueryValue("no_track")?!0:!1,JEND.track.init=function(b){if(!this.disabled){var c=this;b=a.extend({baidu:!0,google:!0,rubi:!1,dsp:!1,mediav:!1},b||{}),this.uspm.init(function(){c.ule.init()}),b.baidu&&this.baidu.init(),b.google&&this.google.init(),b.rubi&&this.rubi.init(),b.dsp&&this.dsp.init(),b.mediav&&this.mediav.init()}},JEND.track.loadJS=function(a,b,c){b?JEND.loader.getRemoteScript(a,{async:!0,keepScriptTag:!0},c):document.write(unescape('%3Cscript type="text/javascript" src="'+a+'"%3E%3C/script%3E'))},JEND.track.timestat={loadTime:window._jend_page_loadtime||0,initTime:(new Date).getTime(),datas:{},add:function(a){this.datas[a]=(new Date).getTime()-(this.loadTime||this.initTime)},get:function(a){return this.datas[a]||0}},JEND.track.uspm={init:function(a){JEND.track.loadJS(JEND.track.scriptPath+JEND.server.ulecdnUrl+"/ule/common/js/uspm.min.js",!0,a)}},JEND.track.ule={init:function(){JEND.track.loadJS(JEND.track.scriptPath+JEND.server.ulecdnUrl+"/j/uletrack.js",!0)},sendEvent:function(a,b,c,d){window._utrack&&_utrack.push(["_trackEvent",a,b||"",c||"",d||""])}},JEND.track.baidu={disabled:JEND.track.disabled,uid:"",setUid:function(a){this.uid=a},init:function(a){var b="",c="";this.inited||this.disabled||(this.inited=!0,c=location.host,/ule.com$/i.test(c)&&(this.uid="35367fc738ea2f9946dca07f732e96df"),/ule.com.hk$/i.test(c)&&(this.uid="778ceb7fcbf6884491be44cf9548dd7d"),/ulenp.com$/i.test(c)&&(this.uid="8b98ea018c05efee8f9115b32486deae"),/trip.ule.com$/i.test(c)&&(this.uid="664e19c93cc419d220e2f62478e99877"),b=navigator.userAgent.replace(/\s/g,""),JEND.track.loadJS("https://hm.baidu.com/hm.js?"+this.uid,!0),JEND.debug("init baidu track",this.uid))},sendEvent:function(a,b,c,d){!this.disabled&&window._hmt&&(_hmt.push(["_trackEvent",a,b||"",c||"",d||""]),JEND.debug("send baidu event",{category:a,action:b,label:c,value:d}))}},JEND.track.google={disabled:JEND.track.disabled,uid:"UA-50969958-1",domain:"ule.com",setUid:function(a){this.uid=a},setDomain:function(a){this.domain=a},init:function(a,b){if(!this.inited&&!this.disabled){this.inited=!0;var c=JEND.track.scriptPath+JEND.server.ulecdnUrl+"/googleana/analytics.js";!function(a,b,c,d,e,f,g){a.GoogleAnalyticsObject=e,a[e]=a[e]||function(){(a[e].q=a[e].q||[]).push(arguments)},a[e].l=1*new Date,f=b.createElement(c),g=b.getElementsByTagName(c)[0],f.async=1,f.src=d,g.parentNode.insertBefore(f,g)}(window,document,"script",c,"ga"),ga("create",a||this.uid,b||this.domain),ga("require","displayfeatures"),ga("send","pageview");var d="//www.googletagmanager.com/gtm.js?id=";!function(a,b,c,d,e,f){a[d]=a[d]||[],a[d].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var g=b.getElementsByTagName(c)[0],h=b.createElement(c),i="dataLayer"!=d?"&l="+d:"";h.async=!0,h.src=f+e+i,g.parentNode.insertBefore(h,g)}(window,document,"script","dataLayer","GTM-MRM5R5",d),JEND.debug("init google track",this.uid)}},send:function(a,b){!this.disabled&&window.ga&&(ga("send",a,b),JEND.debug("send google "+a,b))},initEC:function(){!this.disabled&&window.ga&&(ga("require","ecommerce","ecommerce.js"),JEND.debug("init google ec",this.uid))},sendEC:function(a,b){if(!this.disabled&&window.ga){a.metric4&&a.metric5&&(isNaN(a.metric4+"."+a.metric5)||(a.tax=a.metric4+"."+a.metric5)),ga("ecommerce:addTransaction",a);for(var c=0;c<b.length;c++)ga("ecommerce:addItem",b[c]);ga("ecommerce:send"),JEND.debug("send google ec",a)}}},JEND.track.mediav={disabled:!0,uid:"m-29284-0",attrs:[],setUid:function(a){this.uid=a},pushAttr:function(a){this.attrs.push(a)},pushProd:function(a){this.disabled||(this.pagetype="goodsdetail",this.pushAttr(["setPageUrl",a.link||""]),this.pushAttr(["$addGoods",a.cateId||"",a.brandId||"",a.listingName||"",a.listingId||"",a.salePrice||"",a.imgUrl||"",a.cateName||"",a.brandName||"",a.storageStatus||1,a.maxPrice||"",a.favorNum||"",a.expTime||""]),this.pushAttr(["$logData"]),JEND.debug("push mediav prod",this.attrs))},pushOrder:function(a,b){if(!this.disabled){this.pagetype="ordercreate",this.pushAttr(["$addOrder",a.id||"",a.revenue||0]);for(var c=0;c<b.length;c++)this.pushAttr(["$addItem",a.id||"",b[c].id||"",b[c].name||"",b[c].price||"",b[c].quantity||"",b[c].link||"",b[c].imgUrl||""]);this.pushAttr(["$logData"]),JEND.debug("push mediav order",this.attrs)}},init:function(a){this.inited||this.disabled||(this.inited=!0,window._mvq=window._mvq||[],_mvq.push(["$setAccount",a||this.uid]),_mvq.push(["$setGeneral",this.pagetype||"","",this.username||"",this.userid||""]),_mvq.push(["$logConversion"]),_mvq.concat(this.attrs),JEND.track.loadJS("https:"==document.location.protocol?"https://static-ssl.mediav.com/mvl.js":"http://static.mediav.com/mvl.js",!0),JEND.debug("init mediav track",this.uid))}},JEND.track.dsp={disabled:JEND.track.disabled,uid:"799",setUid:function(a){this.uid=a},init:function(a){this.inited||this.disabled||(this.inited=!0,window._hdspq=window._hdspq||[],_hdspq.push(["_setVars",a||this.uid]),JEND.track.loadJS("http://v.behe.com/tracker/tk.js",!0),JEND.debug("init dsp track",this.uid))}},JEND.track.rubi={disabled:JEND.track.disabled,uid:"4JPR8AQL",setUid:function(a){this.uid=a},init:function(a){if(!this.inited&&!this.disabled){if(this.inited=!0,window.rkID=a||this.uid,JEND.cookie.get("infoValue"))for(var b=unescape(JEND.cookie.get("infoValue")).split("&"),c=0;c<b.length;c++){var d=[];d=b[c].split("="),"userId"==d[0]&&(window.rkUserId=d[1])}else window.rkUserId=0;window.rkMerchantId=window.merchantId?window.merchantId:0,JEND.track.timestat.loadTime&&(window.sLT=JEND.track.timestat.loadTime),"string"==typeof rkSubTotal&&(rkSubTotal=parseFloat(rkSubTotal)),JEND.track.loadJS(JEND.track.scriptPath+JEND.server.ulecdnUrl+"/rubikloud/static/init.js",!0),JEND.debug("init rubi track",this.uid)}}})}(jQuery),function(a){a&&window.JEND&&(a.extend(a.browser,{client:function(){return{width:document.documentElement.clientWidth,height:document.documentElement.clientHeight,bodyWidth:document.body.clientWidth,bodyHeight:document.body.clientHeight}},scroll:function(){return{width:document.documentElement.scrollWidth,height:document.documentElement.scrollHeight,bodyWidth:document.body.scrollWidth,bodyHeight:document.body.scrollHeight,left:Math.max(document.documentElement.scrollLeft,document.body.scrollLeft),top:Math.max(document.documentElement.scrollTop,document.body.scrollTop)}},screen:function(){return{width:window.screen.width,height:window.screen.height}},isMinW:function(b){return Math.min(a.browser.client().bodyWidth,a.browser.client().width)<=b},isMinH:function(b){return Math.min(a.browser.client().bodyHeight,a.browser.client().height)<=b}}),JEND.flash=function(a,b,c,d,e,f,g,h,i){f=f||!1,g=g||!1,h=h||!1,i=i||!1,JEND.load("swfobject",function(){swfobject.embedSWF(a,b,c,d,e,f,g,h,i)})},JEND.namespace("JEND.DOM"),a.extend(JEND.DOM,{create:function(a,b,c){var d=document.createElement(a);if("object"==typeof b)for(var e in b)d[e]=b[e];else c=b;return c&&d.appendChild(document.createTextNode(c)),d}}),JEND.namespace("JEND.DSS"),a.extend(JEND.DSS,{get:function(b,c,d){a.isFunction(d)?a.getDSS(b,null,c,d):"object"==typeof d?a.getDSS(b,d,c):a.getDSS(b,null,c)},formatToDSS:function(a){return a.formatToDSS()},formatToDSSID:function(a){return a.formatToDSSID()}}),a.getDSS=function(b,c,d,e){a.isFunction(c)&&(e=d,d=c,c=null),b=b.trim(),/^http:|^https:/i.test(b)||(b=location.protocol+b);var f=b.formatToDSS().toMapObject();c&&(b+=(b.match(/\?/)?"&":"?")+a.param(c));var g=document.getElementsByTagName("head")[0],h=document.createElement("script");h.type="text/javascript",h.src=b,h.onload=h.onreadystatechange=function(){if(!this.readyState||"loaded"==this.readyState||"complete"==this.readyState){try{f.$&&d?d(f.$):e&&e()}catch(a){e&&e()}h.onload=h.onreadystatechange=null,g.removeChild(h)}},h.onerror=function(){e&&e()},g.appendChild(h)})}(jQuery),function(a){if(a&&window.JEND){var b=a("script:last").attr("src").sliceBefore("/j/"),c="j/";JEND.load.version="141201",JEND.load.setPath(b+"/"),JEND.loader.scriptPath=b+"/j/",JEND.load.add("ui",{js:c+"jend/ui/common/common.min.js"}),JEND.load.add("suggest",{js:c+"jend/ui/suggest/suggest.min.js?v=2"}),JEND.load.add("calendar",{js:c+"jend/ui/calendar/calendar_v2.min.js",css:c+"jend/ui/calendar/calendar_v2.css"}),JEND.load.add("ui-slidebox",{js:c+"jend/ui/slidebox/slidebox.min.js"}),JEND.load.add("ui-floattool",{js:c+"jend/ui/floattool/floattool.min.js"}),JEND.load.add("ui-pagination",{js:c+"jend/ui/pagination/pagination.min.js"}),JEND.load.add("base-contentslide",{js:c+"jend/ui/contentslide/contentslide.min.js"}),JEND.load.add("base-toggletab",{js:c+"jend/ui/toggletab/toggletab.min.js"}),JEND.load.add("util-msgtip",{js:c+"jend/util/msgtip/msgtip.min.js",css:c+"jend/util/msgtip/msgtip.css"}),JEND.load.add("util.overlayer",{js:c+"jend/util/overlayer/overlayer.min.js"}),JEND.load.add("util.recyclebin",{js:c+"jend/util/overlayer/overlayer.min.js"}),JEND.load.add("util.popbox",{js:c+"jend/util/popbox/popbox.min.js",requires:"util.recyclebin"}),JEND.load.add("util.dialog",{js:c+"jend/util/dialog/dialog.min.js",css:c+"jend/util/dialog/dialog.css"}),JEND.load.add("jqueryui",{js:c+"lib/jqueryui/jqueryui-1.7.3.js"}),JEND.load.add("swfobject",{js:c+"lib/swfobject.js"}),JEND.load.add("lhgcalendar",{js:c+"lib/lhgcalendar/lhgcalendar.min.js"}),JEND.load.add("treeview",{js:c+"lib/treeview/jquery.treeview.js",css:c+"lib/treeview/jquery.treeview.css"}),JEND.load.add("address",{js:c+"jend/ui/address/address.js"}),JEND.load.add("addressold",{js:c+"jend/ui/address/address20151116.js"})}}(jQuery),function(a){a&&window.JEND&&(JEND.server={url:"ule.tom.com",uleUrl:"ule.com",name:"",ulecdnUrl:"ulecdn.com"},JEND.debug("jend.js","加载完成"))}(jQuery);
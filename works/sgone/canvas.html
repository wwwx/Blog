
<div class="wrap">
    <div class="header bg_white border_b">
        <div class="header_l search">
            <a href="search.html"><img src="images/search.png" alt=""></a>
        </div>
        <div class="header_c position ta_c">
            <span class="iBlock" onclick="search()"><em class="iBlock">剑川路</em></span>
        </div>
        <div class="header_r">
            <a href="###"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAQAAAC0NkA6AAAC9ElEQVR4Ae3WA5A0VxTF8XVs27bzj23bdgqxbdv+bNu2bTu2k5tTr2ZvvZn1bndcd3F+e2v6DLs3z/6E+VuX/F/CDjzLcBaxpM6zmHG8CWVKuAtLfF71kqiiJ1dwJIfXeY7gfFpgmg+9hG1F4yHlBIdLMM2xpSXvCX2UEh7ewRhQWjJZOCOFkp0xfme5AL4Q9kuhZG1Ms4ki64W4aQol+eHuo8j+Cl9TkMbHkKEYFypwvsKwrNVhrBVpBw6IlM+hrBR5V/aLtByHURK5Icb9Ctyn0DhanCO3chXxg7yF+xrpedeKkrGu+1HpvuhYD8v1FPhQ4ZFocac8KOcwB7ifkJq41gvbndz1pHdyPiuD/HmLFjfKXV0r8L28p/se6d2c98827tekF6JjIX+uwDyFI1Mq2UoOYZnC/tHicrlt5O/kHVw3S6+4VgolG7uflR6Pbru+/JsCvyjsEi3ukIe7CvhV3sv9VNbbYvVQspW7EeGk6F5eDqEPpu81/FSwVDYuDyrkvaD+rBm8D19Kv3Ni0HI0DdsurBJ8TLjDP3GEpKGEBvJSRfbAND8wmhGMx3ymMZJlrh8ZlbWdrO1nrm+0nRBtJ+lYo/g05NNCI8cyA/Ppyc486PqM09iXae4O7MZrrqUcywHMcX/ITtRzGR9zRXxlPIjTOJNT2S3jTTmJMziSlTM+kNO13TmjrcL2CJYLyucQ6RS2zWy35WT5dO1X+P9foiRKWJ6r2bF2h2M9rmG96pRcidG7liUvYrxYnZJbMfrWsuRtjLeqU+InyMqGvTiYg8IczK7+15cxXkqkhOXojmVNg+RLzsmciOYxX2Nh9k+65AaM2X5K3ZSv5FOSLrkCo0vkKfKxaZT0izzzX1MyJ8USSmjMOxQyIbUSv8Ivz5BUny5O4FD9nFHzkjMwWlZacixG55y38PYhPaB0f7klHMlDPMLDmemMMdNV3rTDmBv5c7lhSEMxfSv5nE1+KMFSnTVCCRfzQWpzK0V/v2v8/yV/AKUbawOzbA0FAAAAAElFTkSuQmCC" alt=""></a>
        </div>
    </div>

    <canvas id="can"></canvas><br>
    <canvas id="clock" width="160" height="160"></canvas>
</div>

<script>

    window.onload = function(){

        var canvas = document.getElementById('can');
        var c = canvas.getContext('2d');

        c.beginPath();
        polygon(c, 4, 50, 70, 50, Math.PI/4);
        polygon(c, 6, 150, 70, 50, Math.PI/6);
        c.strokeStyle = '#000';
        c.lineWidth = 1;
        c.stroke();



    }

    var clock_can = document.getElementById('clock');
    var o = clock_can.getContext('2d');
    setInterval(clock, 1000)
    // 绘制多边形
    function polygon (c, n, x, y, r, angle, counterclockwise) {
        angle = angle || 0;
        counterclockwise = counterclockwise || false;
        c.moveTo(x + r * Math.sin(angle),
                 y - r * Math.cos(angle));
        var delta = 2 * Math.PI/n;
        for (var i=1; i<n; i++) {
            angle += counterclockwise ? -delta : delta;
            c.lineTo(x + r * Math.sin(angle),
                     y - r * Math.cos(angle));
        }
        c.closePath();
    }

    // 绘制时钟
    function clock ()
    {
        o.clearRect(0, 0, 160, 160)
        o.save();
        // 时钟外边框
        o.beginPath();
        o.strokeStyle = '#f60';
        o.lineWidth = 6;
        o.shadowColor = '#666';
        o.shadowOffsetX = 3;
        o.shadowOffsetY = 1;
        o.shadowBlur = 3
        o.arc(80, 80, 72, 0, Math.PI * 2);
        o.stroke();
        o.closePath();
        o.restore();

        for (var i = 0; i < 60; i++)
        {
            // 时钟刻度
            if (i % 5 == 0)
            {
                o.save();
                o.beginPath();
                o.translate(80, 80);
                o.rotate(i * 6 * Math.PI / 180)
                o.strokeStyle = '#333';
                o.lineWidth = 4;
                o.moveTo(0, -72);
                o.lineTo(0, -68);
                o.stroke();
                o.closePath();
                o.restore();
            }
            else
            {
                o.save();
                o.beginPath();
                o.translate(80, 80);
                o.rotate(i * 6 * Math.PI / 180)
                o.strokeStyle = '#999';
                o.lineWidth = 2;
                o.moveTo(0, -72);
                o.lineTo(0, -70);
                o.stroke();
                o.closePath();
                o.restore();
            }
        }
        // 获取当前时间
        var d = new Date();
        var h = d.getHours();
        var m = d.getMinutes();
        var s = d.getSeconds();
//        console.log(h + ' : ' + m + ' : ' + s);

        // 时针
        o.save();
        o.beginPath();
        o.strokeStyle = '#f00';
        o.translate(80, 80);
        o.rotate(h * 30 * Math.PI / 180);
        o.lineWidth = 3;
        o.moveTo(0, 10);
        o.lineTo(0, -32);
        o.stroke();
        o.closePath();
        o.restore();


        // 分针
        o.save();
        o.beginPath();
        o.strokeStyle = '#00f';
        o.translate(80, 80);
        o.rotate(m * 6   * Math.PI / 180);
        o.lineWidth = 2;
        o.moveTo(0, 10);
        o.lineTo(0, -48);
        o.stroke();
        o.closePath();
        o.restore();

        // 秒针
        o.save();
        o.beginPath();
        o.strokeStyle = '#0ff';
        o.translate(80, 80);
        o.rotate(s * 6 * Math.PI / 180);
        o.lineWidth = 2;
        o.moveTo(0, 10);
        o.lineTo(0, -64);
        o.stroke();
        o.closePath();
        o.restore();


    }

</script>